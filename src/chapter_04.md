# 4. 상수와 변수

## 4-1. 항상 같은 수, 상수

- 상수(Constant)는 프로그램을 실행할 때 한 번 값이 결정되면 프로그램이 끝날 때까지 다른 값으로 바뀌지 않는 정보를 말한다.
- 보통 상수는 숫자형, 문자형, 문자열형으로 구분할 수 있다.

### 숫자형 상수

- 숫자형 상수(Numeric Constant)는 프로그램에서 가장 기본적인 형태의 상수이며 정수형 상수(Integer Constant)와 실수형 상수(Floating-point constant)로 나뉜다.
- C 언어 프로그램에서 숫자형 상수는 다음과 같이 쓰인다.
```c
unsigned int num = 4500;  // 정수형 상수 4500을 부호가 없는 int 자료형 num 변수에 저장함
float a = 0.17;  // 실수형 상수 0.17을 float 자료형 a 변수에 저장함
```

### 정수형 상수의 다양한 진법 표현

- C 언어에서는 10진수 형식뿐만 아니라 8진수나 16진수 형식으로도 표현할 수 있다.

#### 8진수

- 8진수 형식의 숫자를 적을 때는 숫자 앞에 0을 붙여서 적는다.
```text
012, 050, 075
```

#### 16진수

- 16진수 형식으로 표현할 때는 숫자 앞에 0x 또는 0X를 붙여서 적는다.
```text
0x25, 0x51, 0xFC, 0XD5, 0xaf, 0xa1
```
- 16진수는 각 자리마다 0~9, A~F로 이루어진 총 16개의 숫자와 문자를 사용한다.

### 문자형 상수

- 프로그램에서 문자를 표시할 때 사용하는 문자형 상수(Character Constant)는 작은 따옴표(')를 사용하여 표현하며 영문자(Alphabet), 숫자형 문자(Digit), 특수 문자(Special Character)로 구분된다.
```c
char key = 'A';  // A의 아스키 값 65를 변수 key에 저장함
char next = 'A' + 1;  // A의 아스키 값에 1을 더한 66(B의 아스키 값)을 변수 next에 저장함
```
- 컴퓨터 내부에서는 모든 데이터를 숫자로 저장한다.
- 우리가 사용하는 문자들도 약속된 숫자로 번역해서 사용해야 하는데 이 약속이 아스키코드 표에 정의되어 있다.
- C 언어에서는 프로그래머가 ASCII표를 외우지 않고도 좀 더 보기 편하게 문자 값을 사용할 수 있도록 문자형 상수를 제공한다.

> #### 문자 '3'을 '03'으로 적으면 어떻게 될까?
> 
> - 정상적인 경우라면 문자형 상수는 문자 하나를 ''(작은따옴표)로 둘러싸 표시하지만, 실수 또는 고의로 '03'과 같이 적더라도 기계어로 번역할 때 오류가 발생하지 않고 두 개의 문자형 상수 값이 연속으로 반영된다.
> - 즉 '0'의 아스키 값은 48이고 '3'의 아스키 값은 51이기 때문에 문자형 상수 값을 저장하는 메모리의 크기가 1바이트라면 앞쪽 값을 버리고 뒤쪽 값 '3'에 해당하는 51이 저장된다.
> - 메모리가 2바이트라면 '0'의 아스키 값 48이 첫 번째 바이트에 저장되고 '3'의 아스키 값 51이 두 번째 바이트에 저장된다.

### 문자열형 상수

- 문자열형 상수(Character-string Constant)는 프로그램에서 문자열(한 개 이상의 문자)을 표시할 때 사용하며 ""(큰따옴표)로 묶어서 표현한다.
- 문자열은 문자들로 이루어진 집합체이며 문자형 상수에서 사용하는 문자들을 모두 사용할 수 있다.
- 일반적으로 문자 하나는 1바이트를 차지하기 때문에 "Hello!"라고 적으면 문자 6개이므로 6바이트를 차지할 것이라고 생각하기 쉽다.
- 하지만 실제로는 7바이트를 차지하게 된다.
- 왜냐하면 문자열은 자신의 끝을 표시하기 위해 마지막 자리에 '비어있다'를 의미하는 0값이 추가되기 때문이다.
- 여기에서 0은 숫자 0을 의미하는 것이 아니라 특별한 뜻을 담고 있다.

## 4-2. 데이터 저장 공간, 변수

- 변수(Variable)는 변하는 값이며, 프로그래밍에서는 두 가지 의미를 가진다.
- 첫 번째는 프로그램이 실행되는 동안 지속적으로 값이 바뀌는 정보를 말한다.
- 두 번째는 사용자로부터 데이터를 받거나 처리하려면 저장할 공간이 필요한데, 이러한 저장 공간을 뜻한다.

### 변수 이름

- 메모리는 1바이트 단위로 부여된 주소(Address)로 구분되기 때문에 자신에게 할당된 메모리 공간을 사용하려면 해당 메모리의 시작 주소를 기억해야 한다.
- 하지만 프로그래머가 숫자로 구성된 이 주소를 일일이 기억하면서 프로그래밍을 하기는 어렵다.
- 따라서 해당 주소에 이름을 붙여 사용하는데 이 이름이 바로 변수 이름이다.
```c
int n;  // 4바이트 메모리 공간을 주소 대신 n이라는 변수 이름으로 사용함
```
- 프로그램 소스에 사용한 변수 이름은 컴파일러가 소스 코드를 기계어로 번역하는 과정에서 실제 메모리상의 주소로 변경된다.
- 따라서 프로그램에서 변수 이름을 사용하는 것은 실제로 그 변수 값이 저장될 메모리 주소를 사용하는 것과 같은 의미이다.

### 변수 이름을 정할 때 기억해야 할 것

- 변수 이름은 영문자 a~z, A~Z, 숫자 0~9 그리고 _(밑줄)을 조합하여 구성할 수 있다.
- 모두 숫자로 구성하거나 숫자로 시작하는 문자열은 변수 이름으로 사용할 수 없다.
- 변수 이름은 공백을 포함할 수 없다.
- 변수 이름은 대·소문자를 구별한다.
- C 언어의 예약어는 변수 이름으로 사용할 수 없다.

> #### 표기법은 이름을 지을 때 사용하는 규칙이다
> 
> - 표기법(Notation)은 프로그램에서 변수 또는 함수의 이름을 정할 때 사용하는 일정한 규칙이다.
> - 잘 알려진 표기법에는 '카멜 표기법'과 '헝가리언 표기법'이 있다.
> 
> ```text
> my_name, myName
> ```

### 변수 선언하기

- 프로그램에서 정보를 저장하기 위해 메모리 공간을 확보하는 과정을 '변수를 선언한다'라고 한다.
- 변수의 크기가 항상 1바이트일 수는 없기 때문에 자신이 사용할 메모리 크기에 적합한 자료형을 지정하여 선언한다.
```c
signed int num;
```
- `signed int`는 자료형이고 '부호를 고려하는 4바이트'를 의미하기 때문에 이 명령문으로 할당되는 메모리 공간은 4바이트가 된다.
- 이렇게 할당된 메모리 공간은 num이라는 변수 이름으로 지정했기 때문에, 해당 메모리 공간에 정보를 저장하거나 저장된 정보를 읽을 때는 num이라는 변수 이름을 사용하면 된다.

### 변수 초기화하기

- 변수를 사용하기 전 초기값을 저장해서 깨끗하게 만드는 것을 '초기화'라고 한다.
- 컴퓨터 메모리는 각종 프로그램에 의해 공유되는 자원이다.
- 따라서 특정 프로그램이 특정 메모리를 지정해서 사용하는 것이 아니라, 프로그램이 실행될 때 운영체제에 의해 사용할 수 있는 적당한 공간에 할당되는 방식이다.
- 따라서 자신이 사용한 메모리는 이전에 어떤 프로그램이 사용했는지 알 수 없고 그 메모리에 어떤 값이 들어 있는지도 알 수 없다.
- 이것은 이전에 이 메모리를 사용한 프로그램이 사용 후에 메모리를 깨끗하게 청소하지 않고 끝내 버리기 때문이다.
- 이렇게 정리되지 않은 메모리에 들어 있는 값을 쓰레기 값이라고 부르고, 이 값 대신에 자신이 사용하고 싶은 값을 메모리에 저장하는 행위를 '초기화'라고 한다.
```c
int value;  // 4바이트 크기의 value 변수에 어떤 값이 저장되어 있는지 알 수 없음
```
```c
int value = 0;  // 4바이트 크기의 value 변수에 정수형 상수 값 0을 넣어 초기화함
```

```c
#include <stdio.h>

void main() {
    int money;  // int형 변수 money를 선언함
    money = 3000;  // 변수 money에 값 3000을 저장함
    printf("money에 저장된 값은 %d", money);
}
```
```text
money에 저장된 값은 3000
```

## 4-3. 2진수를 16진수로 변환하는 방법

### 비트 단위 연산에 유용한 16진수

- 메모리가 1비트 증가할 때마다 저장할 수 있는 수의 크기는 2배 늘어난다.
- 16진수 한 자릿수에는 16개의 숫자(0~9, A~F)중 하나를 저장할 수 있다.
- 따라서 16진수를 저장할 때 각 자릿수마다 4비트씩 늘어난다고 보면 된다.
- 16진수 한 자릿수는 4비트를 의미하기 때문에 13의 1과 3이 각각 4비트씩 총 8비트로 표현한다.
- 마찬가지로 BC는 B와 C가 각각 4비트씩 총 8비트로 표현된다.
- 4비트 패턴과 16진수를 연결한 표를 보면 알 수 있듯이 4비트로 표현한 값이 2진수 형태이기 때문에 16개 값만 기억한다면 16진수를 2진수로 변환하거나 2진수를 16진수로 변환하는 것이 매우 쉬워진다.
- 다음 표를 외우자!

| 10진수 | 16진수 | 2진수  |
|------|------|------|
| 0    | 0    | 0000 |
| 1    | 1    | 0001 |
| 2    | 2    | 0010 |
| 3    | 3    | 0011 |
| 4    | 4    | 0100 |
| 5    | 5    | 0101 |
| 6    | 6    | 0110 |
| 7    | 7    | 0111 |
| 8    | 8    | 1000 |
| 9    | 9    | 1001 |
| 10   | A    | 1010 |
| 11   | B    | 1011 |
| 12   | C    | 1100 |
| 13   | D    | 1101 |
| 14   | E    | 1110 |
| 15   | F    | 1111 |

- C 언어에서 16진수를 사용할 때는 반드시 앞에 0x를 붙여야 한다.
- C 언어는 8진법, 10진법 그리고 16진법은 사용할 수 있어도 2진법 표현은 제공하지 않아서 비트별로 값을 표현하는 형식을 사용할 수가 없다.
- 하지만 컴퓨터 메모리에 저장된 메모리 패턴은 2진수 표현과 같다.
- 또한 비트 단위로 값을 사용할 수 있는 기술을 제공하기 때문에 2진법으로 숫자를 변경해야 하는 경우가 많으니 진법 변환을 잘 연습해두자.

### 16진수 표기에 따른 메모리 계산

- 결국 C 언어에서 0x2E라고 표기된 16진수 값을 메모리에 저장하기 위해서는 최소한 1바이트(0010 1110)가 필요하다.
- 16진수를 0xA처럼 한 자릿수만 적더라도 대입 연산자(=)는 최소 1바이트 단위로 값을 읽고 쓰기 때문에, 표기된 숫자는 4비트만 사용하지 못하고 0x0A값(0000 1010)으로 저장된다.
- 마찬가지로 다음 코드처럼 0xA를 2바이트 변수인 data에 저장하려면 0x000A 값(0000 0000 0000 1010)으로 저장된다.
```c
short int data = 0xA;  // short int가 2바이트 메모리를 차지하기 때문에 0x000A라고 적은 것과 같음
```